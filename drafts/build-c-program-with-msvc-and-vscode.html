<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>salt fish on the moon</title>
	<meta name="description" content="">
	<meta name="author" content="fx-moon">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="/theme/bootstrap.min.css" rel="stylesheet">
	<link href="/theme/local.css" rel="stylesheet">
	<link href="/theme/pygments.css" rel="stylesheet">

	<!-- Feeds -->




</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="/">salt fish on the moon</a>
			<ul class="nav">
						<li><a href="/pages/about.html">About</a></li>
					<li class="active"><a href="/category/note.html">note</a></li>
					<li ><a href="/category/record.html">record</a></li>
			</ul>
			<p class="pull-right"><a href="/archives.html">[archives]</a> <a href="/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="http://getpelican.com/">Pelican</a></li>
				<li><a href="http://python.org/">Python.org</a></li>
				<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>build C++ program with msvc and vscode</h1></div>
		<div class="well small">Permalink: <a class="more" href="/drafts/build-c-program-with-msvc-and-vscode.html">2018-12-01 00:00:00+08:00</a>
by <a class="url fn" href="/author/fx-moon.html">fx-moon </a>
 in <a href="/category/note.html">note</a>
tags: <a href="/tag/vscode.html">vscode</a> </div>
		<div><h1>prepare</h1>
<ul>
<li>Visual Studio or MSVC</li>
<li>Visual Studio Code</li>
</ul>
<h1>getting started</h1>
<h2>build.bat</h2>
<p>put it in <code>${workspaceFolder}</code></p>
<p>you should find your own <code>vcvarsall.bat</code> path</p>
<div class="highlight"><pre><span></span><span class="k">call</span> <span class="s2">&quot;E:\Program Files (x86)\Microsoft Visual Studio\2017\Enterprise\VC\Auxiliary\Build\vcvarsall.bat&quot;</span> x64
<span class="k">set</span> <span class="nv">compilerflags</span><span class="p">=</span>/Od /Zi /EHsc
<span class="k">set</span> <span class="nv">linkerflags</span><span class="p">=</span>/OUT:a.exe
cl.exe <span class="nv">%compilerflags%</span> *.cpp /link <span class="nv">%linkerflags%</span>
<span class="k">exit</span>
</pre></div>


<h2>tasks.json</h2>
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tasks&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;build&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;shell&quot;</span><span class="p">,</span>
            <span class="nt">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;./build.bat&quot;</span><span class="p">,</span>
            <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;kind&quot;</span><span class="p">:</span> <span class="s2">&quot;build&quot;</span><span class="p">,</span>
                <span class="nt">&quot;isDefault&quot;</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h2>launch.json</h2>
<p>(default)</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;configurations&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;(Windows) Launch&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;cppvsdbg&quot;</span><span class="p">,</span>
            <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;launch&quot;</span><span class="p">,</span>
            <span class="nt">&quot;program&quot;</span><span class="p">:</span> <span class="s2">&quot;${workspaceFolder}/a.exe&quot;</span><span class="p">,</span>
            <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="nt">&quot;stopAtEntry&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;cwd&quot;</span><span class="p">:</span> <span class="s2">&quot;${workspaceFolder}&quot;</span><span class="p">,</span>
            <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="nt">&quot;externalConsole&quot;</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h1>run~</h1>
<p>press Ctrl-Shift-B to build</p>
<p>press Ctrl-Shift-F5 to run</p>
<p>press F5 to debug</p></div>
	</div>
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; fx-moon</p>
		</footer>
	  </div>

	</div>
</body>
</html>